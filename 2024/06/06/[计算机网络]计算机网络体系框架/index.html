<!DOCTYPE html><html lang="zh-CN" data-theme="dark"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>[计算机网络]计算机网络体系框架 | 飞行艇</title><meta name="author" content="山川与酒"><meta name="copyright" content="山川与酒"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#0d0d0d"><meta name="description" content="第一章：计算机网络体系框架1.1计算机网络的概念&amp;emsp;&amp;emsp;什么是计算机网络？ &amp;emsp;&amp;emsp;计算机网络（computer networking）是一个将众多&#x3D;&#x3D;分散的&#x3D;&#x3D;、&#x3D;&#x3D;自治的&#x3D;&#x3D;计算机系统，通过&#x3D;&#x3D;通信设备&#x3D;&#x3D;与&#x3D;&#x3D;线路&#x3D;&#x3D;连接起来，由功能完善的&#x3D;&#x3D;软件&#x3D;&#x3D;实现&#x3D;&#x3D;资源共享&#x3D;&#x3D;和&#x3D;&#x3D;信息传递&#x3D;&#x3D;的系统。 &amp;emsp;&amp;emsp;计算机网络、互连网、互联网的区别？ &amp;">
<meta property="og:type" content="article">
<meta property="og:title" content="[计算机网络]计算机网络体系框架">
<meta property="og:url" content="https://liu1122335.github.io/2024/06/06/[%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C]%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E4%BD%93%E7%B3%BB%E6%A1%86%E6%9E%B6/index.html">
<meta property="og:site_name" content="飞行艇">
<meta property="og:description" content="第一章：计算机网络体系框架1.1计算机网络的概念&amp;emsp;&amp;emsp;什么是计算机网络？ &amp;emsp;&amp;emsp;计算机网络（computer networking）是一个将众多&#x3D;&#x3D;分散的&#x3D;&#x3D;、&#x3D;&#x3D;自治的&#x3D;&#x3D;计算机系统，通过&#x3D;&#x3D;通信设备&#x3D;&#x3D;与&#x3D;&#x3D;线路&#x3D;&#x3D;连接起来，由功能完善的&#x3D;&#x3D;软件&#x3D;&#x3D;实现&#x3D;&#x3D;资源共享&#x3D;&#x3D;和&#x3D;&#x3D;信息传递&#x3D;&#x3D;的系统。 &amp;emsp;&amp;emsp;计算机网络、互连网、互联网的区别？ &amp;">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://liu1122335.github.io/img/avatar.jpg">
<meta property="article:published_time" content="2024-06-06T13:49:58.000Z">
<meta property="article:modified_time" content="2024-06-06T14:13:20.303Z">
<meta property="article:author" content="山川与酒">
<meta property="article:tag" content="Network">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://liu1122335.github.io/img/avatar.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://liu1122335.github.io/2024/06/06/[%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C]%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E4%BD%93%E7%B3%BB%E6%A1%86%E6%9E%B6/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://unpkg.com/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://unpkg.com/@fancyapps/ui/dist/fancybox/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"找不到您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"prismjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://unpkg.com/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://unpkg.com/flickr-justified-gallery/dist/fjGallery.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: true,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '[计算机网络]计算机网络体系框架',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-06-06 22:13:20'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="/css/universe.css"><link rel="stylesheet" href="/css/footer.css"><meta name="generator" content="Hexo 6.3.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/friend_404.gif" data-original="/img/avatar.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">6</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">4</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">7</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 博文</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background: transparent"><nav id="nav"><span id="blog-info"><a href="/" title="飞行艇"><span class="site-name">飞行艇</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 博文</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">[计算机网络]计算机网络体系框架</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-06-06T13:49:58.000Z" title="发表于 2024-06-06 21:49:58">2024-06-06</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-06-06T14:13:20.303Z" title="更新于 2024-06-06 22:13:20">2024-06-06</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Network/">Network</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Network/Note/">Note</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">8.6k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>26分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="[计算机网络]计算机网络体系框架"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="第一章：计算机网络体系框架"><a href="#第一章：计算机网络体系框架" class="headerlink" title="第一章：计算机网络体系框架"></a>第一章：计算机网络体系框架</h1><h2 id="1-1计算机网络的概念"><a href="#1-1计算机网络的概念" class="headerlink" title="1.1计算机网络的概念"></a>1.1计算机网络的概念</h2><p>&emsp;&emsp;什么是计算机网络？</p>
<p>&emsp;&emsp;<strong>计算机网络（computer networking）</strong>是一个将众多==分散的==、==自治的==计算机系统，通过==通信设备==与==线路==连接起来，由功能完善的==软件==实现==资源共享==和==信息传递==的系统。</p>
<p>&emsp;&emsp;计算机网络、互连网、互联网的区别？</p>
<p>&emsp;&emsp;计算机网络（简称 网络）：由若干==节点（node）==和连接这些结点的==链路（link）==组成。注：结点可以是计算机、集线器、交换机、路由器等。链路可以是有线链路、无线链路。</p>
<ol>
<li><p>集线器（Hub）：可以把多个节点连接起来，组成一个计算机网络。工作在物理层，会出现数据冲突，现已很少使用。</p>
</li>
<li><p>交换机（Switch）：可以把多个节点连接起来，组成一个计算机网络。工作在数据链路层，不会发生数据冲突。</p>
</li>
<li><p>路由器（router）：可以把==两个或多个计算机网络互相连接起来==，形成规模更大的计算机网络，也可称为==”互连网“==。工作在网络层。</p>
<p>Tips：计算机网络课程中的”路由器“和”家用路由器“有一些区别。==家用路由器 = 路由器 + 交换机 + 其他功能==。</p>
</li>
</ol>
<p><img src="/img/friend_404.gif" data-original="/imgs/$%7BuseImgs%7D/image-20240506194823498.png" alt="image-20240506194823498"></p>
<p>&emsp;&emsp;这样，我们初步建立了下面的基本概念：</p>
<p>&emsp;&emsp;<u>网络把许多计算机连接在一起，而互连网则把许多网络通过一些路由器连接在一起。与网络相接的计算机常称为主机。</u></p>
<p>&emsp;&emsp;==互联网（或因特网，Internet）==把全球范围的计算机网络连接起来。</p>
<ol>
<li><p>==ISP==：<strong>Internet Service Provider</strong>，即互联网服务提供商。如：中国电信/移动/联通。</p>
</li>
<li><p>==互联网（或因特网，Internet）==由各大ISP和国际机构组建的，覆盖全球范围的<strong>互连网（Internet）</strong>。</p>
</li>
<li><p><strong>互联网</strong>必须使用==TCP/IP==协议通信，<strong>互连网</strong>可使用任意协议通信。注：“TCP/IP协议”即全球互联网结点遵守的通信协议。</p>
</li>
<li><p>==IXP==：<strong>Internet eXchange Point</strong>，即互联网交换点，主要作用为允许两个网络直接相连并交换分组，而不需要再通过第三个网络来转发分组。</p>
<p><img src="/img/friend_404.gif" data-original="/imgs/$%7BuseImgs%7D/image-20240506201631088.png" alt="image-20240506201631088"></p>
</li>
</ol>
<h2 id="1-2网络协议"><a href="#1-2网络协议" class="headerlink" title="1.2网络协议"></a>1.2网络协议</h2><p>&emsp;&emsp;硬件（主机、路由器、通信链路等）是计算机网络的基础。</p>
<p>&emsp;&emsp;计算机网络中的数据交换必须遵守事先约定好的==规则==。<strong>任何通信或信息交换过程都需要规则。</strong></p>
<p>&emsp;&emsp;什么是网络协议？</p>
<p>&emsp;&emsp;==网络协议（network protocol）==，简称为==协议==，是为进行网络中的数据交换而建立的规则、标准或约定。==协议==规定了通信实体之间所交换的信息的==格式、意义、顺序==以及针对收到信息或发生的事件所采取的==“动作”==（actions）。</p>
<p>&emsp;&emsp;协议三要素：</p>
<ol>
<li><p>语法（Syntax）：数据与控制信息的结构或格式。底层为信号电平。</p>
</li>
<li><p>语义（Semantics）：需要发出何种控制信息，完成何种动作以及做出何种响应。底层为差错控制</p>
</li>
<li><p>时序（Timing）：事件顺序。底层为速度匹配。</p>
</li>
</ol>
<p>&emsp;&emsp;==协议规范了网络中所有信息的发送和接受过程。==学习网络的重要内容之一，网络创新的表现形式之一，Internet协议标准。（大量的协议以RFC：Request for Comments文档的形式存在。由IETF：互联网工程任务组 Internet Engineering Task Force进行管理。）</p>
<h2 id="1-3计算机网络组成"><a href="#1-3计算机网络组成" class="headerlink" title="1.3计算机网络组成"></a>1.3计算机网络组成</h2><p>&emsp;&emsp;计算机网络大致可以分为以下几个部分：</p>
<ol>
<li>网络边缘：主机、网络应用。</li>
<li>接入网络，物理介质：有线或无线通信链路。</li>
<li>网络核心（核心网络）：互联的路由器（或分组转发设备），网络之网络。</li>
</ol>
<h3 id="网络边缘"><a href="#网络边缘" class="headerlink" title="网络边缘"></a>网络边缘</h3><ol>
<li>主机（端系统）：位于“网络边缘”，运行网络应用程序。<ul>
<li>==计算机之间的通信：指的是“主机A的某个进程和主机B上的另一个进程进行通信”==。</li>
</ul>
</li>
<li>客户/服务器（client/server）应用模型：客户发送请求，接收服务器响应。<ul>
<li>客户和服务器都是指通信中所涉及的两个应用进程。<strong>客户是服务请求方，服务器是服务提供方。</strong></li>
<li>客户与服务器的通信关系建立后，通信可以是双向的，客户和服务器都可以发送和接收数据。</li>
<li><strong>客户与服务器本来都指的是计算机进程（软件）。</strong></li>
</ul>
</li>
<li>对等（peer-peer，P2P）应用模型：无（或不仅依赖）专用服务器，通信在对等实体之间直接进行。</li>
</ol>
<h3 id="接入网络"><a href="#接入网络" class="headerlink" title="接入网络"></a>接入网络</h3><p>&emsp;&emsp;接入网络将网络边缘接入核心网络。可分为：</p>
<ol>
<li>家庭接入</li>
<li>机构接入</li>
<li>移动接入</li>
</ol>
<p>&emsp;&emsp;用户关心的为：</p>
<ol>
<li>带宽（bandwidth）（bps）：在网络中指的是数据传输速率。</li>
<li>共享/独占</li>
</ol>
<p>&emsp;&emsp;常见的接入网络：</p>
<ul>
<li><p>数字用户线路（DSL）：最典型为ADSL，即非对称，指上行速率与下行速率是不一样的。采用典型的频分多路复用技术（FDM）。</p>
<ul>
<li><p>利用==已有的==电话线连接中心局的DSLAM</p>
<ul>
<li>数据通信通过DSL电话线接入Internet。</li>
<li>语音（电话）通过DSL电话线接入电话网。</li>
</ul>
</li>
<li><p>&lt;2.5Mbps上行传输速率（典型速率&lt;1Mbps）</p>
</li>
<li>&lt;24Mbps下行传输速率（典型速率&lt;10Mbps）</li>
<li>==FDM==：&gt;50kHz - 1MHz用于下行。4kHz - 50kHz用于上行。0kHz - 4kHz用于传统电话。</li>
</ul>
<p><img src="/img/friend_404.gif" data-original="/imgs/$%7BuseImgs%7D/image-20240506210301214.png" alt="image-20240506210301214"></p>
</li>
<li><p>电缆网络（cable modem）有线电视。</p>
<ul>
<li>频分多路复用：在不同频带（载波）上传输不同频道。</li>
<li>数据、电视信号在共享线缆分布式网络上，利用不同频率传输。</li>
<li>==HFC==：混合光纤同轴电缆（hybrid fiber coax)<ul>
<li>非对称：下行高达30Mbps传输速率，上行为2Mbps传输速率</li>
</ul>
</li>
<li>各家庭（设备）通过电缆网络→光纤接入ISP路由器<ul>
<li>各家庭==共享==家庭至电缆头端的==接入网络==</li>
<li>不同于DSL的==独占==至中心局的接入</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><img src="/img/friend_404.gif" data-original="/imgs/$%7BuseImgs%7D/image-20240506211559736.png" alt="image-20240506211559736"></p>
<ul>
<li><p>机构（企业）接入网络（Ethernet）</p>
<ul>
<li><p>主要用于公司、高校、企业等组织机构。</p>
</li>
<li><p>典型传输速率：10Mbps，100Mbps，1Gbps，10Gbps。</p>
</li>
<li>目前，端系统通常直接连接以太网（最常见的有线局域网）交换机。</li>
</ul>
</li>
</ul>
<p><img src="/img/friend_404.gif" data-original="/imgs/$%7BuseImgs%7D/image-20240506212338180.png" alt="image-20240506212338180"></p>
<ul>
<li>无线接入网络<ul>
<li>通过==共享==的无线接入网络连接端系统于路由器<ul>
<li>通过==基站==（base station）或称为“==接入点==”（access point）。</li>
</ul>
</li>
<li>主要分为两类：<ul>
<li>无线局域网（LANs）：同意建筑物内（30m），802.11b/g（WiFi）</li>
<li>广域无线接入：通过电信运营商（蜂窝网），接入范围在几十公里。移动互联网。</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="网络核心"><a href="#网络核心" class="headerlink" title="网络核心"></a>网络核心</h3><p>&emsp;&emsp;互联的路由器网络。网络核心的关键功能：路由+转发。</p>
<p>&emsp;&emsp;网络核心要向网络边缘部分中的大量主机提供连通性，使边缘部分中的任何一台主机都能够与其他主机通信。</p>
<p>&emsp;&emsp;在网络核心部分其特殊作用的是<strong>路由器</strong>（router），它是一种专用计算机（但不能称为主机）。路由器是实现<strong>分组交换</strong>的关键构件，其任务是<strong>转发收到的分组</strong>，这是网络核心部分最重要的功能。</p>
<p><img src="/img/friend_404.gif" data-original="/imgs/$%7BuseImgs%7D/image-20240506213357307.png" alt="image-20240506213357307"></p>
<p>&emsp;&emsp;作为网络核心解决的基本问题：通过==数据交换==实现数据从源主机通过网络核心送达目的主机。</p>
<p>&emsp;&emsp;三种交换方式：</p>
<ul>
<li><p>电路交换</p>
<ul>
<li><p>经过  <strong>“建立连接”</strong>（占用通信资源）→<strong>“通话”</strong>（一直占用通信资源）→<strong>“释放连接”</strong>（归还通信资源）三个步骤的交换方式称为==电路交换==</p>
</li>
<li><p>其一个重要特点就是<strong>在通话的全部时间内，通话的两个用户始终占用端到端的通信资源</strong>。</p>
</li>
<li><p>当使用电路交换来传送计算机数据时，其<strong>线路的传输效率往往很低</strong>。</p>
<p><img src="/img/friend_404.gif" data-original="/imgs/$%7BuseImgs%7D/image-20240507154159168.png" alt="image-20240507154159168"></p>
</li>
</ul>
</li>
<li><p>报文交换</p>
<ul>
<li><p>通常我们把要发送的整块数据称为一个==报文==（message）。</p>
</li>
<li><p>电报通信也是采用了基于存储转发原理的报文交换。</p>
<p><img src="/img/friend_404.gif" data-original="/imgs/$%7BuseImgs%7D/image-20240507154857574.png" alt="image-20240507154857574"></p>
</li>
</ul>
</li>
<li><p>分组交换</p>
<ul>
<li>在发送报文前，先把较长的报文划分为一个个更小的等长数据段。在每一个数据段前加上一些必要的控制信息组成的<strong>首部</strong>（header）后，就构成了一个<strong>分组</strong>（packet）。</li>
<li><p>分组又称为<strong>“包“</strong>，而分组的首部也可称为<strong>”包头“</strong>。</p>
</li>
<li><p>分组交换采用<strong>存储转发</strong>技术。</p>
</li>
<li>分组中的==”首部“==是非常重要的，正是由于分组的首部包含了诸如目的地址和源地址等重要控制信息，每一个分组才能在互联网中独立地选择传输路径，并被正确地交付到分组传输的终点。</li>
<li>位于网络边缘部分的主机和位于网络核心部分的路由器都是计算机，但它们的作用却很不一样。<ul>
<li><strong>主机是为用户进行信息处理的</strong>，并且可以和其他主机通过网络交换信息。</li>
<li><strong>路由器则用来转发分组，即进行分组交换</strong>。路由器收到一个分组，先暂时存储一下，检查其首部，查找转发表，按照首部中的目的地址，找到合适的接口转发出去，把分组交给下一个路由器。</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><img src="/img/friend_404.gif" data-original="/imgs/$%7BuseImgs%7D/image-20240509215800450.png" alt="image-20240509215800450"></p>
<p>&emsp;&emsp;详细过程：<img src="/img/friend_404.gif" data-original="/imgs/$%7BuseImgs%7D/image-20240510193346248.png" alt="image-20240510193346248"></p>
<p>注：</p>
<ol>
<li>假定在某一个分组的传送过程中，链路的通信量太大，那么路由器可以把分组沿另一个路由传送，即先转发到另一个路由器，在转发到其他路由器，最终把分组传送到目的主机。</li>
<li>路由器暂时存储的是一个个<strong>短分组</strong>，而不是整个的长报文。短分组是<strong>暂存在路由器的（即内存）</strong>中而不是存储在磁盘中的。这就保证了较高的<strong>交换速率</strong>。</li>
<li>实际上，互联网可以容许非常多的主机同时进行通信，而一台主机中的多个进程（即正在运行中的多道程序）也可以各自和不同主机中的不同进程进行通信。</li>
<li><strong>分组交换在传送数据之前不必先占用一条端到端的通信资源</strong>。只有当分组正在哪段链路上传送时，才会占用那段链路的通信资源，在各分组传送的空闲时间，该链路仍可以为其他主机发送的分组使用。</li>
<li>分组到达一个路由器后，先暂时存储下来，查找转发表，然后从另一条合适的链路转发出去。</li>
<li>分组在传输时就这样逐段地断续占用通信资源，而且还省去了建立连接和释放连接的开销，因而<strong>数据的传输效率更高</strong>。</li>
<li>互联网采取了专门的措施，保证了数据的传送具有了非常高的可靠性。当网络中的某些节点或链路突然出现故障时，在各路由器中运行的路由选择<strong>协议（protocol）</strong>能够自动找到转发分组最合适的路径。</li>
<li>采用存储转发的分组交换，==实质上是采用了在数据通信的过程中断续（或动态）分配传输带宽的策略。这对传送突发式的计算机数据非常合适，使得通信线路的利用率大大提高了。==</li>
<li>为提高分组交换网的可靠性，<strong>互联网的核心部分常采用网状拓扑结构</strong>，使得当发生网络拥塞或少数节点、链路出现故障时，路由器可灵活地改变转发路由而不导致引起通信的中断或全网的瘫痪。</li>
<li>此外，通信网络的主干线路往往由一些高速链路构成，这样就可以较高的数据率迅速地传送计算机数据。</li>
</ol>
<p>&emsp;&emsp;总上所述，分组交换的主要优点如下所示：</p>
<p><img src="/img/friend_404.gif" data-original="/imgs/$%7BuseImgs%7D/image-20240510201347274.png" alt="image-20240510201347274"></p>
<p>&emsp;&emsp;分组交换的缺点：</p>
<ol>
<li>分组在各路由器存储转发时需要排队，这就会造成一定的<strong>时延</strong>。</li>
<li>各分组必须携带的控制信息造成了一定的<strong>开销</strong>（overhead）。整个分组交换网还需要专门的管理和控制机制。</li>
</ol>
<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><ol>
<li><p>电路交换：整个报文的比特流连续地从源点直达终点，好像在一个管道中传送。</p>
</li>
<li><p>报文交换：整个报文先传送到相邻节点，全部存储下来后查找转发表，转发到下一节点。</p>
</li>
<li><p>分组交换：单个分组（这只是整个报文的一部分）传送到相邻节点，存储下来后查找转发表，转发到下一个节点。</p>
<p><img src="/img/friend_404.gif" data-original="/imgs/$%7BuseImgs%7D/image-20240510203605510.png" alt="image-20240510203605510.png"></p>
</li>
</ol>
<h2 id="1-4计算机网络的类别"><a href="#1-4计算机网络的类别" class="headerlink" title="1.4计算机网络的类别"></a>1.4计算机网络的类别</h2><h3 id="按照网络的作用范围进行分类"><a href="#按照网络的作用范围进行分类" class="headerlink" title="按照网络的作用范围进行分类"></a>按照网络的作用范围进行分类</h3><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">名称</th>
<th style="text-align:center">范围</th>
<th style="text-align:center">特点</th>
<th style="text-align:center">备注</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">广域网WAN（Wide Area Network）</td>
<td style="text-align:center">几十~几千公里</td>
<td style="text-align:center">互联网的核心部分，其任务是长距离运送主机所发送的数据。与其各节点交换机连接的链路一般都是高速链路，具有较大的通信容量。</td>
<td style="text-align:center">有时也称为远程网（long haul network）</td>
</tr>
<tr>
<td style="text-align:center">城域网MAN（Metropolitan Area Network）</td>
<td style="text-align:center">5~50公里</td>
<td style="text-align:center">可以为一个或多个单位所拥有，用来将多个局域网进行互连。目前很多城域网采用的是以太网技术，因此有时也常并入局域网的范围进行讨论。</td>
<td style="text-align:center">公用设施</td>
</tr>
<tr>
<td style="text-align:center">局域网LAN（Local Area Network）</td>
<td style="text-align:center">1公里左右</td>
<td style="text-align:center">一般用微型计算机或工作站通过高速通信线路相连。非常广泛的使用。</td>
<td style="text-align:center">学校或企业大都拥有多个互连的局域网（校园网或企业网）</td>
</tr>
<tr>
<td style="text-align:center">个人区域网PAN（Personal Area Network）</td>
<td style="text-align:center">10米左右</td>
<td style="text-align:center">把属于个人使用的电子设备用无线技术连接起来的网络，因此也常称为无线个人区域网WPAN。</td>
<td style="text-align:center">个人工作使用</td>
</tr>
</tbody>
</table>
</div>
<h3 id="按照网络的使用者进行分类"><a href="#按照网络的使用者进行分类" class="headerlink" title="按照网络的使用者进行分类"></a>按照网络的使用者进行分类</h3><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">名称</th>
<th style="text-align:center">特点</th>
<th style="text-align:center">备注</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">公用网（public network）</td>
<td style="text-align:center">指电信公司出资建造的大型网络。</td>
<td style="text-align:center">缴纳费用的人都可以使用，因此又称为公众网。</td>
</tr>
<tr>
<td style="text-align:center">专用网（private network）</td>
<td style="text-align:center">某个部门为满足本单位的特殊业务工作的需要而建造的网络。</td>
<td style="text-align:center">不向本单位以外的人提供服务。例如，军队、银行、铁路。</td>
</tr>
</tbody>
</table>
</div>
<h3 id="用来把用户接入到互联网的网络"><a href="#用来把用户接入到互联网的网络" class="headerlink" title="用来把用户接入到互联网的网络"></a>用来把用户接入到互联网的网络</h3><p>&emsp;&emsp;这种网络就是<strong>接入网</strong>AN（Access Network），又被称为<strong>本地接入网</strong>或<strong>居民接入网</strong>。即本地ISP所拥有的网络，既不属于互联网的核心部分，也不属于互联网的边缘部分。</p>
<h2 id="1-5计算机网络的性能"><a href="#1-5计算机网络的性能" class="headerlink" title="1.5计算机网络的性能"></a>1.5计算机网络的性能</h2><h3 id="速率"><a href="#速率" class="headerlink" title="速率"></a>速率</h3><p>&emsp;&emsp;计算机发送信号都是数字形式。</p>
<p>&emsp;&emsp;<strong>比特</strong>（bit）意为一个“<strong>二进制数字</strong>”，故一个比特就是二进制数字中的一个1或0。</p>
<p>&emsp;&emsp;比特也是信息论中使用的<strong>信息量的单位</strong>。网络技术中的<strong>速率</strong>指的是<strong>数据的传送速率</strong>，也称为<strong>数据率</strong>（data rate）或<strong>比特率</strong>（bit rate）。</p>
<p>&emsp;&emsp;速率单位是$bit/s$（比特每秒）（或$b/s$，有时也写为bps，即bit per second）。当数据较高时，就常常在$bit/s$前加上一个字母。如：k，M，G，T，P，E，Z，Y。</p>
<p>&emsp;&emsp;另外需要注意的是，当提到网络的速率时，往往指的是<strong>额定速率</strong>或<strong>标称速率</strong>，而并非网络实际上运行的速率。</p>
<h3 id="带宽"><a href="#带宽" class="headerlink" title="带宽"></a>带宽</h3><p>&emsp;&emsp;“<strong>带宽</strong>”（bandwidth）有以下两种不同的意义：</p>
<ol>
<li>带宽本来是指某个<strong>信号具有的频带宽度</strong>。信号的带宽是指该信号所包含的各种不同频带成分所占据的频率范围。这种意义的带宽的单位是<strong>赫</strong>（或<strong>千赫</strong>、<strong>兆赫</strong>、<strong>吉赫</strong>）。因此，表示某信道运行通过的信号频带范围就称为该信道的<strong>带宽</strong>（或<strong>通频带</strong>）</li>
<li>在计算机网络中，带宽用来表示网络中某<strong>通道</strong>传送数据的能力，因此网络带宽表示在单位时间内网络中的某信到所能通过的“<strong>最高数据库</strong>”。这种意义的<strong>带宽的单位</strong>就是<strong>数据率的单位</strong>$bit/s$是”<strong>比特每秒</strong>“。</li>
</ol>
<p>&emsp;&emsp;在“带宽”的上述两种表述中，前者为<strong>频域</strong>称谓，而后者为<strong>时域</strong>称谓，其本质是相同的。</p>
<h3 id="吞吐量"><a href="#吞吐量" class="headerlink" title="吞吐量"></a>吞吐量</h3><p>&emsp;&emsp;<strong>吞吐量</strong>（throughput）表示在单位时间内通过某个网络（或信道、接口）的实际数据量。</p>
<p>&emsp;&emsp;吞吐量更经常地用于对现实世界中的网络的一种测量，以便知道实际上到底有多少数据量能够通过网络。</p>
<p>&emsp;&emsp;接入到互联网的主机的实际吞吐量，取决于互联网的具体情况。</p>
<h3 id="时延"><a href="#时延" class="headerlink" title="时延"></a>时延</h3><p>&emsp;&emsp;<strong>时延</strong>（delay或latency）是指数据（一个报文或分组，甚至比特）从网络（或链路）的一端传送到另一端所需的时间。时延有时也称为<strong>延迟</strong>或<strong>迟延</strong>。</p>
<p>&emsp;&emsp;网络中的时延是由以下几个不同的部分组成的：</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">名称</th>
<th style="text-align:center">定义</th>
<th style="text-align:center">公式</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">发送时延（transmission delay）</td>
<td style="text-align:center">又名传输延时，<strong>是主机或路由器发送数据帧所需要的时间</strong>。与发送的帧长（单位是比特）成正比，与发送速率成反比。</td>
<td style="text-align:center">$发送时延=\frac{数据帧长度（bit）}{发送速率（bit/s）}$</td>
</tr>
<tr>
<td style="text-align:center">传播时延（propagation delay）</td>
<td style="text-align:center"><strong>是电磁波在信道中传播一定的距离需要花费的时间</strong>。与信号的发送速率无关，与信号传送的距离有关，成正比。</td>
<td style="text-align:center">$传播时延=\frac{信道长度（m）}{电磁波子啊信道上的传播速率（m/s）}$</td>
</tr>
<tr>
<td style="text-align:center">处理时延（nodal processing delay）</td>
<td style="text-align:center">主机或路由器在收到分组时要花费一定的时间进行处理，例如分析分组首部、提取数据。</td>
<td style="text-align:center">\</td>
</tr>
<tr>
<td style="text-align:center">排队时延（queuing delay）</td>
<td style="text-align:center">分组在进入路由器后要先在输入队列中排队等待处理，当路由器确定了转发接口后，还要再输出队列中排队等待转发。这就产生了排队时延。</td>
<td style="text-align:center">\</td>
</tr>
</tbody>
</table>
</div>
<p>&emsp;&emsp;数据在网络中经历的总延时就是以上四种延时之和：$总延时=发送延时+传播延时+处理延时+排队延时$</p>
<p><img src="/img/friend_404.gif" data-original="/imgs/$%7BuseImgs%7D/image-20240512201143142.png" alt="image-20240512201143142.png"></p>
<p>&emsp;&emsp;<strong>对于高速网络链路，我们提高的仅仅是数据的发送速率而不是比特在链路上的传播速率</strong>。荷载信息的电磁波在通信线路上的传播速率（这是光速的数据量级）取决于通信线路的介质材料，而与数据的发送速率无关。<strong>提高数据的发送速率只是减小了数据的发送时延</strong>。</p>
<p>&emsp;&emsp;数据的发送速率的单位是每秒发送多少个比特，这是指在<strong>某个点</strong>或<strong>某个接口上</strong>的发送速率。而传播速率的单位是每秒传播多少公里，是指在<strong>某一段传输线路上</strong>比特的传播速率。</p>
<h3 id="时延带宽积"><a href="#时延带宽积" class="headerlink" title="时延带宽积"></a>时延带宽积</h3><p>&emsp;&emsp;将传播时延和带宽相乘，就得到了传播<strong>时延带宽积</strong>。即：$时延带宽积=传播时延\times带宽$</p>
<p>&emsp;&emsp;链路的时延带宽积又称为<strong>以比特为单位的链路长度</strong>。</p>
<p><img src="/img/friend_404.gif" data-original="/imgs/$%7BuseImgs%7D/image-20240512203753442.png" alt="image-20240512203753442"></p>
<h3 id="往返时间RTT"><a href="#往返时间RTT" class="headerlink" title="往返时间RTT"></a>往返时间RTT</h3><p>&emsp;&emsp;在计算机网络中，<strong>往返时间RTT</strong>（Round-Trip Time）也是一个重要的性能指标。这是因为在许多情况下，互联网上的信息不仅仅单方向传输而是双向交互的。</p>
<p>&emsp;&emsp;在某些文献中，也有把RTT称为<strong>往返时延</strong>（Round-Trip Time delay）的，强调发送方至少要经过这样多的时间，才能知道自己所发送的数据是否被对方接收了。</p>
<h3 id="利用率"><a href="#利用率" class="headerlink" title="利用率"></a>利用率</h3><p>&emsp;&emsp;<strong>利用率</strong>有信道利用率和网络利用率两种。</p>
<ol>
<li>信道利用率指出某信道有百分之几的时间是被利用的（有数据通过）。完全闲置的信道的利用率是零。</li>
<li>网络利用率则是全网络的信道利用率的加权平均值。</li>
</ol>
<p>&emsp;&emsp;信道利用率并非是越高越好。这是因为，根据排队论的理论，当某些信道的利用率增大时，该信道引起的时延也就迅速增加。</p>
<p>&emsp;&emsp;当网络的通信量很少时，网络产生的时延并不大。但在网络通信量不断增大的情况下，由于分组在网络节点（路由器或节点交换机）进行处理时需要排队等候，因此网络引起的时延就会增大。</p>
<p>&emsp;&emsp;因此我们必须有这样的概念：<strong>信道利用率或网络利用率过高就会产生非常大的时延</strong>。</p>
<p><img src="/img/friend_404.gif" data-original="/imgs/$%7BuseImgs%7D/image-20240512212547328.png" alt="image-20240512212547328"></p>
<h2 id="1-6计算机网络体系结构"><a href="#1-6计算机网络体系结构" class="headerlink" title="1.6计算机网络体系结构"></a>1.6计算机网络体系结构</h2><p>&emsp;&emsp;在计算机网络的基本概念中，<strong>分层次的体系架构（或架构）</strong>是最基本的。</p>
<h3 id="协议与划分层次"><a href="#协议与划分层次" class="headerlink" title="协议与划分层次"></a>协议与划分层次</h3><p>&emsp;&emsp;在计算机网络中要做到有条不紊地交换数据，就必须遵守一些事先约定好的规则。<strong>这些规则明确规定了所交换的数据的格式以及有关的同步问题</strong>。</p>
<p>&emsp;&emsp;这里所说的<strong>同步</strong>不是狭义的（即同频或同频同相）而是广义的，即在一定的条件下应当发生什么事件，因而<strong>同步含有时序的意思</strong>。</p>
<p>&emsp;&emsp;这些<strong>为进行网络中的数据交换而建立的规则、标准或约定</strong>称为<strong>网络协议</strong>（network protocol）。也可简称为<strong>协议</strong>。网络协议主要有以下三个要素组成：</p>
<ol>
<li><strong>语法</strong>，即数据与控制信息的结构或格式。</li>
<li><strong>语义</strong>，即需要发出何种控制信息，完成何种动作以及做出何种响应。</li>
<li><strong>同步</strong>，即事件实现顺序的详细说明。</li>
</ol>
<p>&emsp;&emsp;任何我们想让连接在网络上的另一台计算机做点什么都需要网络协议。</p>
<p>&emsp;&emsp;对于非常复杂的计算机网络协议，其结构应该是层次式的。以网络传送文件为例。</p>
<p><img src="/img/friend_404.gif" data-original="/imgs/$%7BuseImgs%7D/image-20240513202444526.png" alt="image-20240513202444526"></p>
<p>层次式的优点：</p>
<ol>
<li><strong>各层之间是独立的</strong>。某一层不用知道它的下一层是如何实现的，，只要知道该层通过层间的接口所提供的服务。</li>
<li><strong>灵活性好</strong>。各层之间不受影响。</li>
<li><strong>结构上可分割开</strong>。</li>
<li><strong>易于维护和实现</strong>。</li>
<li><strong>能促进标准化工作</strong>。</li>
</ol>
<p>因为分层式的设计，通常各层所要完成的功能主要有以下一些（可以只包括一种，也可以包括多种）：</p>
<ol>
<li><strong>差错控制</strong>：使相应层次对等方的通信更加可靠。</li>
<li><strong>流量控制</strong>：发送端的发送速率必须使接收端来得及接收，不要太快。</li>
<li><strong>分段和重装</strong>：发送端将要发送的数据块划分为更小的单位，在接收端将其还原。</li>
<li><strong>复用和分用</strong>：发送端几个高层会话复用一条低层的连接，在接收端再进行分用。</li>
<li><strong>连接建立和释放</strong>：交换数据前先建立一条逻辑连接，数据传送结束后释放连接。</li>
</ol>
<p>&emsp;&emsp;分层也有缺点，例如，有些功能在不同层次中重复出现，造成额外开销。</p>
<p>&emsp;&emsp;<strong>计算机网络的各层及其协议的集合</strong>就是网络的<strong>体系结构</strong>（architecture）。换种说法，<strong>计算机网络的体系结构就是这个计算机网络及其构件所应完成的功能的精确定义</strong>。</p>
<p>&emsp;&emsp;这些功能究竟是用何种硬件或软件完成的，则是一个遵循这种体系结构的<strong>实现</strong>的问题。<strong>体系结构是抽象的，而实现则是具体的，是真正在运行的计算机硬件和软件</strong>。</p>
<h3 id="具有五层协议的体系结构"><a href="#具有五层协议的体系结构" class="headerlink" title="具有五层协议的体系结构"></a>具有五层协议的体系结构</h3><p>&emsp;&emsp;OSI的七层协议体系结构的概念清楚，理论也比较完整，但复杂且不实用。</p>
<p>&emsp;&emsp;TCP/IP是一个四层的体系结构，包含应用层、运输层、网际层和链路层（网络接口层）。从实质上讲，TCP/IP只有最上面的三层，因为最下面的链路层并没有属于TCP/IP体系的具体协议。</p>
<p>&emsp;&emsp;在讲授计算机网络原理时往往采取另外的方法，即综合OSI和TCP/IP的优点，采用五层协议的体系结构。</p>
<p><img src="/img/friend_404.gif" data-original="/imgs/$%7BuseImgs%7D/image-20240513205547668.png" alt="image-20240513205547668"></p>
<p>简单介绍下各层：</p>
<ol>
<li><p><strong>应用层</strong>（application layer）</p>
<ul>
<li>应用层是体系结构的最高层。应用层的任务是<strong>通过应用进程间的交互来完成特定网络应用</strong>。</li>
<li>应用层协议定义的是<strong>应用进程间通信和交互的规则</strong>。这里的<strong>进程</strong>就是指主机中<strong>正在运行的程序</strong>。</li>
<li>对于不同的网络应用需要有不同的应用层协议，例如域名系统DNS、支持万维网应用的HTTP协议、支持电子邮件的SMTP协议。</li>
<li>我们将应用层交互的数据单元称为<strong>报文</strong>（message）。</li>
</ul>
</li>
<li><p><strong>运输层</strong>（transport layer）</p>
<ul>
<li>运输层的任务就是负责向<strong>两台主机中进程之间的通信</strong>提供<strong>通用的数据传输服务</strong>。应用层进程利用该服务传送应用层报文。</li>
<li>由于一台主机可以同时运行多个进程，因此运输层有复用和分用的功能。复用即多个应用层进程可同时使用下面运输层的服务，分用则是运输层把收到的信息分别交付上面应用层中的相应进程。</li>
<li>运输层主要使用以下两种协议：<ul>
<li><strong>传输控制协议TCP</strong>（Transmission Control Protocol）——提供面向连接的、可靠的数据传输服务，其数据传输的单位是<strong>报文段</strong>（segment）</li>
<li><strong>用户数据报协议UDP</strong>（User Datagram Protocol）——提供无连接的<strong>尽最大努力</strong>（best-effort）的数据传输服务（不保证数据传输的可靠性），其数据传输的单位是<strong>用户数据报</strong>。</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>网络层</strong>（network layer）</p>
<ul>
<li>网络层负责为分组交换网上的不同<strong>主机</strong>提供通信服务。在发送数据时，~网络层把运输层产生的报文段或用户数据报封装成~<strong>分组</strong>或<strong>包</strong>进行传送。</li>
<li>在TCP/IP体系中，由于网络层使用IP协议，因此分组也叫做IP数据报，或简称为<strong>数据报</strong>。</li>
<li><strong>无论在那一层传送的数据单元，都可以笼统地用“分组”来表示</strong>。但各层之间需分清楚，不要混淆。</li>
<li>具体任务有两个。第一个：通过一定<strong>算法</strong>，在互联网中的每一个路由器上生成一个用来<strong>转发分组的转发表</strong>。第二个：在每一个路由器接收到一个分组时，依据转发表中指明的路径把分组转发到下一个路由器。</li>
<li>互联网是由大量的<strong>异构</strong>（heterogeneous）网络通过<strong>路由器</strong>（router）相互连接起来的。互联网使用的网络层协议是无连接的<strong>网际协议IP</strong>（Internet Protocol）和许多种路由器选择协议，因此互联网的网络层也叫作<strong>网际层</strong>或<strong>IP层</strong>。</li>
</ul>
</li>
<li><p><strong>数据链路层</strong>（data link layer）</p>
<ul>
<li>数据链路层简称为<strong>链路层</strong>。两台主机之间的数据传输，总是在一段段的链路上传送的，这就需要使用专门的链路层的协议。</li>
<li>在两个相邻节点之间传送数据时，数据链路层将网络层交下来的IP数据报<strong>组装成帧</strong>（framing），在两个相邻节点间的链路送帧（frame）。</li>
<li>每一帧包括数据和必要的<strong>控制信息</strong>（如同步信息、地址信息、差错控制等）。控制信息使接收端能够知道一个帧从哪个比特开始和到哪个比特结束。同时还能判使接收端检测收到的帧有无差错，若有，则简单地丢弃。</li>
</ul>
</li>
<li><strong>物理层</strong>（physical layer）</li>
</ol>
<ul>
<li>在物理层上所传送数据的单位是==比特==。为保证发送与接收的信息相同，物理层需要考虑电缆、电压等物理规定。<ul>
<li>用于传递信息所的一些物理传输媒体，如双绞线、同轴电缆、光缆、无线信道等，并不在物理层协议之内，而是在物理层协议下面。</li>
<li>现在经常提起的TCP/IP并不是单指TCP和IP这两个具体的协议，而往往是代表互联网所使用的整个<strong>TCP/IP协议族</strong>（protocol suite）。</li>
</ul>
</li>
</ul>
<p>数据传输详细过程：</p>
<ol>
<li>主机1将数据交给本主机的第5层（应用层）。</li>
<li>第5层加上必要的控制信息H~5~就变成了下一层（运输层）的数据单元。</li>
<li>第4层（运输层）收到这个数据单元后，加上本层的控制信息H~4~，再交给第3层（网络层），成为第3层的数据单元。</li>
<li>以此类推。不过到了==第2层（数据链路层）==后，==控制信息被分成了两部分==，分别加到本层数据单元的首部（H~2~）和尾部（T~2~）。</li>
<li>由于第1层（物理层）是比特流的传送，所以不再加上控制信息。注：==传送比特流时应从首部开始传送==。</li>
<li>当比特流离开主机1，经过网络的物理传输媒体传送到路由器时，就从==路由器的第1层依次上升到第3层==。</li>
<li>每一层都根据控制信息进行必要的操作，然后将控制信息剥离，将该层剩下的数据单元上交给更高的一层。</li>
<li>上升到第3层网络层时，就根据首部中的==目的地址==查找路由器中的转发表，找出转发分组的接口。</li>
<li>然后向下传送到第2层，加上新的首部和尾部后，再到最下面的第1层，然后在物理传输媒体上把每一个比特发送出去。</li>
<li>当这一串比特流离开路由器到达目的站主机2时，就从主机2的第1层按照一样的方式，依次上升到第5层。</li>
</ol>
<p><img src="/img/friend_404.gif" data-original="/imgs/$%7BuseImgs%7D/image-20240514153059372.png" alt="image-20240514153059372"></p>
<p>&emsp;&emsp;由于该复杂过程对用户屏蔽，所以任何两个同样的层次之间，似乎是直接传递给对方，这就是所谓的“<strong>对等层</strong>”（peer layers）之间的通信。我们所说的各层协议，实际上就是在各个对等层之间传递数据时的各项规定。</p>
<p>&emsp;&emsp;OSI参考模型把对等层次之间传送的数据单元称为该层的<strong>协议数据单元</strong>PDU（Protocol Data Unit）。</p>
<h3 id="实体、协议、服务和服务访问点"><a href="#实体、协议、服务和服务访问点" class="headerlink" title="实体、协议、服务和服务访问点"></a>实体、协议、服务和服务访问点</h3><p>&emsp;&emsp;当研究开放系统中的信息交换时，往往使用<strong>实体</strong>（entity）这一较为抽象的名词表示==任何可发送或接收信息的硬件或软件进程==。在许多情况下，实体就是一个特定的软件模块。</p>
<p>&emsp;&emsp;<strong>协议是控制两个对等实体</strong>（或<strong>多个实体</strong>）<strong>进行通信的规则的集合</strong>。</p>
<p>&emsp;&emsp;<strong>在协议的控制下，两个对等实体间的通信使得本层能够向上一层提供服务。要实现本层协议，还需要使用下面一层所提供的服务</strong>。</p>
<p>&emsp;&emsp;一定要弄清楚，协议和服务在概念上是很不一样的。</p>
<ol>
<li>协议的实现保证了能够向上一层提供服务。<strong>使用本层服务的实体只能看见服务而无法看见下面的协议</strong>。也就是说，<strong>下面的协议对上面的实体是透明的</strong>。</li>
<li>协议是<strong>”水平的“</strong>，即协议是控制==对等实体==之间通信的规则。但是<strong>服务是“垂直的”</strong>，即服务是由下层向上层通过层间接口提供的。</li>
<li>另外，并非在一个层内完成的全部功能都称为服务，只有被高一层实体<strong>“看得见”</strong>的功能才能称之为“服务”。上层使用下层提供的服务必须通过与下层交换一些命令，这些命令在OSI中称为<strong>服务原语</strong>。</li>
</ol>
<p>&emsp;&emsp;在同一系统中相邻的两层的实体进行交互（即交换信息）的地方，通常称为==服务访问点==<strong>SAP（Service Access Point）</strong>。服务访问点SAP是一个抽象的概念，实际上就是一个逻辑接口，但这种层间的接口和两个设备之间的硬件接口（并行的或串行的）并不一样。OSI将层与层之间交换的数据的单位称为<strong>服务数据单元SDU（Service Data Unit）</strong>，它可以与PDU不一样。</p>
<p>&emsp;&emsp;这样，在任何相邻两层之间的关系均可以概括为下图</p>
<p><img src="/img/friend_404.gif" data-original="/imgs/$%7BuseImgs%7D/image-20240514161301155.png" alt="image-20240514161301155"></p>
<p>&emsp;&emsp;计算机网络的协议还有一个很重要的特点，即==协议必须把所有不利的条件事先都估计到，而不能假定一切都是正常的和非常理想的==。</p>
<p>&emsp;&emsp;因此，看一个计算机网络协议是否在正确，不能只看正常情况下是否正确，还必须<strong>非常仔细地检查协议能否应付任何一种出现概率极小的异常情况</strong>。</p>
<h3 id="TCP-IP的体系结构"><a href="#TCP-IP的体系结构" class="headerlink" title="TCP/IP的体系结构"></a>TCP/IP的体系结构</h3><p>&emsp;&emsp;TCP/IP的体系结构比较简单，它只有四层。</p>
<p><img src="/img/friend_404.gif" data-original="/imgs/$%7BuseImgs%7D/image-20240514163055461.png" alt="image-20240514163055461"></p>
<p>&emsp;&emsp;在现在的互联网使用的TCP/IP体系结构有时已经演变为下图所示：</p>
<p><img src="/img/friend_404.gif" data-original="/imgs/$%7BuseImgs%7D/image-20240514163224074.png" alt="image-20240514163224074"></p>
<p>&emsp;&emsp;这个体系结构没有清晰地阐明区分开服务、接口和协议之间的关系，而且链路层并非真正的一个层次，而仅仅强调了IP层需要这样一个与网络的接口。这个体系结构没有把重要的物理层和链路层包含进来。</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="https://liu1122335.github.io">山川与酒</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://liu1122335.github.io/2024/06/06/[%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C]%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E4%BD%93%E7%B3%BB%E6%A1%86%E6%9E%B6/">https://liu1122335.github.io/2024/06/06/[计算机网络]计算机网络体系框架/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://liu1122335.github.io" target="_blank">飞行艇</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Network/">Network</a></div><div class="post_share"><div class="social-share" data-image="/img/avatar.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://unpkg.com/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://unpkg.com/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="next-post pull-full"><a href="/2023/12/11/%5B%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%5DCSAPP%20%E7%AC%AC%E5%9B%9B%E7%AB%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" title="[深入理解计算机系统]CSAPP 第四章学习笔记"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">[深入理解计算机系统]CSAPP 第四章学习笔记</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/friend_404.gif" data-original="/img/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">山川与酒</div><div class="author-info__description">不要为降临于世的命运而哀叹</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">6</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">4</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">7</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/liu1122335"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/liu1122335" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:2869753184@qq.com" target="_blank" title="Email"><i class="fas fa-envelope-open-text"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%E7%AB%A0%EF%BC%9A%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E4%BD%93%E7%B3%BB%E6%A1%86%E6%9E%B6"><span class="toc-number">1.</span> <span class="toc-text">第一章：计算机网络体系框架</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-1%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%9A%84%E6%A6%82%E5%BF%B5"><span class="toc-number">1.1.</span> <span class="toc-text">1.1计算机网络的概念</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-2%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE"><span class="toc-number">1.2.</span> <span class="toc-text">1.2网络协议</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-3%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%BB%84%E6%88%90"><span class="toc-number">1.3.</span> <span class="toc-text">1.3计算机网络组成</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E8%BE%B9%E7%BC%98"><span class="toc-number">1.3.1.</span> <span class="toc-text">网络边缘</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8E%A5%E5%85%A5%E7%BD%91%E7%BB%9C"><span class="toc-number">1.3.2.</span> <span class="toc-text">接入网络</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E6%A0%B8%E5%BF%83"><span class="toc-number">1.3.3.</span> <span class="toc-text">网络核心</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">1.3.4.</span> <span class="toc-text">总结</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-4%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%9A%84%E7%B1%BB%E5%88%AB"><span class="toc-number">1.4.</span> <span class="toc-text">1.4计算机网络的类别</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8C%89%E7%85%A7%E7%BD%91%E7%BB%9C%E7%9A%84%E4%BD%9C%E7%94%A8%E8%8C%83%E5%9B%B4%E8%BF%9B%E8%A1%8C%E5%88%86%E7%B1%BB"><span class="toc-number">1.4.1.</span> <span class="toc-text">按照网络的作用范围进行分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8C%89%E7%85%A7%E7%BD%91%E7%BB%9C%E7%9A%84%E4%BD%BF%E7%94%A8%E8%80%85%E8%BF%9B%E8%A1%8C%E5%88%86%E7%B1%BB"><span class="toc-number">1.4.2.</span> <span class="toc-text">按照网络的使用者进行分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%A8%E6%9D%A5%E6%8A%8A%E7%94%A8%E6%88%B7%E6%8E%A5%E5%85%A5%E5%88%B0%E4%BA%92%E8%81%94%E7%BD%91%E7%9A%84%E7%BD%91%E7%BB%9C"><span class="toc-number">1.4.3.</span> <span class="toc-text">用来把用户接入到互联网的网络</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-5%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%9A%84%E6%80%A7%E8%83%BD"><span class="toc-number">1.5.</span> <span class="toc-text">1.5计算机网络的性能</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%9F%E7%8E%87"><span class="toc-number">1.5.1.</span> <span class="toc-text">速率</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%A6%E5%AE%BD"><span class="toc-number">1.5.2.</span> <span class="toc-text">带宽</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%9E%E5%90%90%E9%87%8F"><span class="toc-number">1.5.3.</span> <span class="toc-text">吞吐量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%B6%E5%BB%B6"><span class="toc-number">1.5.4.</span> <span class="toc-text">时延</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%B6%E5%BB%B6%E5%B8%A6%E5%AE%BD%E7%A7%AF"><span class="toc-number">1.5.5.</span> <span class="toc-text">时延带宽积</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BE%80%E8%BF%94%E6%97%B6%E9%97%B4RTT"><span class="toc-number">1.5.6.</span> <span class="toc-text">往返时间RTT</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A9%E7%94%A8%E7%8E%87"><span class="toc-number">1.5.7.</span> <span class="toc-text">利用率</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-6%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84"><span class="toc-number">1.6.</span> <span class="toc-text">1.6计算机网络体系结构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%8F%E8%AE%AE%E4%B8%8E%E5%88%92%E5%88%86%E5%B1%82%E6%AC%A1"><span class="toc-number">1.6.1.</span> <span class="toc-text">协议与划分层次</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B7%E6%9C%89%E4%BA%94%E5%B1%82%E5%8D%8F%E8%AE%AE%E7%9A%84%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84"><span class="toc-number">1.6.2.</span> <span class="toc-text">具有五层协议的体系结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E4%BD%93%E3%80%81%E5%8D%8F%E8%AE%AE%E3%80%81%E6%9C%8D%E5%8A%A1%E5%92%8C%E6%9C%8D%E5%8A%A1%E8%AE%BF%E9%97%AE%E7%82%B9"><span class="toc-number">1.6.3.</span> <span class="toc-text">实体、协议、服务和服务访问点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#TCP-IP%E7%9A%84%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84"><span class="toc-number">1.6.4.</span> <span class="toc-text">TCP&#x2F;IP的体系结构</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/06/06/%5B%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%5D%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E4%BD%93%E7%B3%BB%E6%A1%86%E6%9E%B6/" title="[计算机网络]计算机网络体系框架">[计算机网络]计算机网络体系框架</a><time datetime="2024-06-06T13:49:58.000Z" title="发表于 2024-06-06 21:49:58">2024-06-06</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/12/11/%5B%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%5DCSAPP%20%E7%AC%AC%E5%9B%9B%E7%AB%A0%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" title="[深入理解计算机系统]CSAPP 第四章学习笔记">[深入理解计算机系统]CSAPP 第四章学习笔记</a><time datetime="2023-12-11T12:29:16.000Z" title="发表于 2023-12-11 20:29:16">2023-12-11</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/11/25/%5BAndroid%5DJetpack%20Compose%20%E5%AE%9E%E7%8E%B0%E4%BB%BF%E8%A3%B8%E7%9C%BC3D/" title="[Android]Jetpack Compose 实现仿裸眼3D">[Android]Jetpack Compose 实现仿裸眼3D</a><time datetime="2023-11-25T09:31:48.000Z" title="发表于 2023-11-25 17:31:48">2023-11-25</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/11/20/%5BAndroid%5DJetpack%20Compose%20%E5%AE%9E%E7%8E%B0Banner%E8%BD%AE%E6%92%AD%E5%9B%BE/" title="[Android]Jetpack Compose 实现Banner轮播图">[Android]Jetpack Compose 实现Banner轮播图</a><time datetime="2023-11-20T14:30:00.000Z" title="发表于 2023-11-20 22:30:00">2023-11-20</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/10/11/%5B%E6%B7%B1%E5%85%A5%E5%AD%A6%E4%B9%A0%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%5DCSAPP%20DataLab%20%E5%AD%A6%E4%B9%A0%E8%AE%B0%E5%BD%95/" title="[深入理解计算机系统]CSAPP DataLab 学习记录">[深入理解计算机系统]CSAPP DataLab 学习记录</a><time datetime="2023-10-11T11:36:28.000Z" title="发表于 2023-10-11 19:36:28">2023-10-11</time></div></div></div></div></div></div></main><footer id="footer" style="background: transparent"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2024 By 山川与酒</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div><div class="container" id="jsi-flying-fish-container"><script src="js/fish.js"></script></div><style>   @media only screen and (max-width: 767px){
   #sidebar_search_box input[type=text]{width:calc(100% - 24px)}
}</style></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://unpkg.com/@fancyapps/ui/dist/fancybox/fancybox.umd.js"></script><div class="js-pjax"><script>if (!window.MathJax) {
  window.MathJax = {
    tex: {
      inlineMath: [['$', '$'], ['\\(', '\\)']],
      tags: 'ams'
    },
    chtml: {
      scale: 1.1
    },
    options: {
      renderActions: {
        findScript: [10, doc => {
          for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
            const display = !!node.type.match(/; *mode=display/)
            const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display)
            const text = document.createTextNode('')
            node.parentNode.replaceChild(text, node)
            math.start = {node: text, delim: '', n: 0}
            math.end = {node: text, delim: '', n: 0}
            doc.math.push(math)
          }
        }, '']
      }
    }
  }
  
  const script = document.createElement('script')
  script.src = 'https://unpkg.com/mathjax/es5/tex-mml-chtml.js'
  script.id = 'MathJax-script'
  script.async = true
  document.head.appendChild(script)
} else {
  MathJax.startup.document.state(0)
  MathJax.texReset()
  MathJax.typesetPromise()
}</script></div><script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script><script src="https://gcore.jsdelivr.net/gh/xiabo2/CDN@latest/fish.js"></script><canvas id="universe"></canvas><script src="/js/universe.js"></script><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="true" src="https://unpkg.com/butterfly-extsrc/dist/canvas-nest.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div class="no-result" id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div>
        <style>
            [bg-lazy] {
                background-image: none !important;
                background-color: #eee !important;
            }
        </style>
        <script>
            window.imageLazyLoadSetting = {
                isSPA: false,
                preloadRatio: 1,
                processImages: null,
            };
        </script><script>window.addEventListener("load",function(){var t=/\.(gif|jpg|jpeg|tiff|png)$/i,r=/^data:image\/[a-z]+;base64,/;Array.prototype.slice.call(document.querySelectorAll("img[data-original]")).forEach(function(a){var e=a.parentNode;"A"===e.tagName&&(e.href.match(t)||e.href.match(r))&&(e.href=a.dataset.original)})});</script><script>!function(r){r.imageLazyLoadSetting.processImages=t;var e=r.imageLazyLoadSetting.isSPA,n=r.imageLazyLoadSetting.preloadRatio||1,c=a();function a(){var t=Array.prototype.slice.call(document.querySelectorAll("img[data-original]")),e=Array.prototype.slice.call(document.querySelectorAll("[bg-lazy]"));return t.concat(e)}function t(){e&&(c=a());for(var t,o=0;o<c.length;o++)0<=(t=(t=c[o]).getBoundingClientRect()).bottom&&0<=t.left&&t.top<=(r.innerHeight*n||document.documentElement.clientHeight*n)&&function(){var t,e,n,a,i=c[o];e=function(){c=c.filter(function(t){return i!==t}),r.imageLazyLoadSetting.onImageLoaded&&r.imageLazyLoadSetting.onImageLoaded(i)},(t=i).hasAttribute("bg-lazy")?(t.removeAttribute("bg-lazy"),e&&e()):(n=new Image,a=t.getAttribute("data-original"),n.onload=function(){t.src=a,t.removeAttribute("data-original"),e&&e()},t.src!==a&&(n.src=a))}()}function i(){clearTimeout(t.tId),t.tId=setTimeout(t,500)}t(),document.addEventListener("scroll",i),r.addEventListener("resize",i),r.addEventListener("orientationchange",i)}(this);</script></body></html>